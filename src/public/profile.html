<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitPay – Profil</title>
    <link rel="icon" type="image/png" href="/favicon-32x32.png">

    <!-- CSS -->
    <link rel="stylesheet" href="/vendor/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/styles.css">


    <!-- JS (optional) -->
    <script src="/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script defer src="/js/app.js"></script>
</head>
<body onload="checkAuth(); loadProfile(); loadSyncCard()">

<!-- Navigation Placeholder -->
<div id="navigation-container"></div>

<main class="container mt-4">
    <h2>Mein Profil</h2>

    <div id="profile" class="row g-3">

        <!-- USER INFO CARD -->
        <div class="col-12 col-md-6">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title" id="card-title">-</h5>
                    <p class="card-text"><strong>Mitglied Seit:</strong>
                        <span id="member-since">-</span>
                    </p>
                    <p class="card-text"><strong>Synchronisiert bis:</strong>
                        <span id="last-sync">-</span>
                    </p>
                    <p class="card-text"><strong>Vollständig synchronisiert:</strong>
                        <span id="fully-synchronized">-</span>
                    </p>
                    <p class="card-text"><strong>Alter:</strong>
                        <span id="user-age">-</span>
                    </p>
                    <p class="card-text"><strong>Avatar:</strong>
                        <span id="user-avatar">-</span>
                    </p>
                </div>
            </div>
        </div>

        <!-- SYNCHRONIZATION CARD -->
        <div class="col-12 col-md-6">
            <div class="card shadow-sm border-primary">
                <div class="card-body">

                    <h5 class="card-title">Synchronisation</h5>

                    <p>
                        <strong>Status:</strong>
                        <span id="sync-status" class="badge bg-secondary">unknown</span>
                    </p>

                    <p>
                        <strong>Aktuell synchronisiert bis:</strong>
                        <span id="sync-progress-date">-</span>
                    </p>

                    <p>
                        <strong>Fehlende Tage:</strong>
                        <span id="sync-missing-count">-</span>
                    </p>

                    <hr>

                    <div class="mb-3">
                        <label for="sync-start-date" class="form-label">
                            Synchronisation starten ab:
                        </label>
                        <input
                                type="date"
                                id="sync-start-date"
                                class="form-control"
                        >
                    </div>

                    <div class="d-flex gap-2">
                        <button class="btn btn-success w-50" onclick="startSync()">
                            ➤ Start Sync
                        </button>
                        <button class="btn btn-danger w-50" onclick="stopSync()">
                            ✖ Stop Sync
                        </button>
                    </div>

                </div>
            </div>
        </div>

    </div>


</main>

<!-- Footer Placeholder -->
<div id="footer-container"></div>
</body>
</html>
